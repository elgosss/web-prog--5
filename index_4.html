<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Задание 4</title>
    </head>
    <body>
        <div id="main_3">
            <script>
                "use strict";
                let str = prompt('Введите строку', 'Поставьте балл');
                document.write('<p>Написать программу, которая в каждом слове перемешивает буквы местами за исключением первой и последней буквы слова.</p>');
                document.write(`<p>Исходная строка:<br>${str}</p>`);
                str = str.split(' ');
                let n = str.length;
                let word = '';
                document.write('<p>Измененная строка:<br>');
                for (let i = 0; i < n; i++) {
                    word = str[i];
                    word = word.split('');
                    let k = word.length;
                    for (let i1 = k - 2; i1 > 0; i1--) {
                        let j = Math.floor(Math.random() * i1);
                        if (j != 0) {
                            let tmp = word[i1];
                            word[i1] = word[j];
                            word[j] = tmp;
                        }
                    }
                    str[i] = word;
                    document.write(str[i].join('') + ' ');
                }
                document.write('</p>');
            </script>
        </div>
    </body>
</html>