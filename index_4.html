<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Задание 4</title>
    </head>
    <body>
        <div id="main_3">
            <script>
                "use strict";
                let str = prompt('Введите строку', 'Поставьте балл');
                document.write('<p>Написать программу, которая в каждом слове перемешивает буквы местами за исключением первой и последней буквы слова.</p>');
                document.write(`<p>Исходная строка:<br>${str}</p>`);
                let pos = -1;
                let pos_1 = -1;
                let word = '';
                let str_1 = '';
                let n = 0;
                while ((pos = str.indexOf(' ', pos + 1)) != -1) {
                    word = str.slice(pos_1 + 1, pos);
                    pos_1 = pos;
                    n = word.length;
                    for (let i = 0; i < n; i++) {
                        let j = Math.floor(Math.random() * (i + 1));
                        let tmp = word[i];
                        word[i] = word[j];
                        word[j] = tmp;
                    }
                    str_1 += word;
                }
                str_1 += str.slice(pos_1 + 1);
                document.write(`<p>Измененная строка:<br>${str_1}</p>`);
            </script>
        </div>
    </body>
</html>